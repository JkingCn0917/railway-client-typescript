"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Manager_1 = require("./src/Manager");
var winston = require("winston");
var parseArgs = require("minimist");
var argv = parseArgs(process.argv.slice(2));
winston.level = 'info';
var manager = new Manager_1.Manager('./application.yml');
if (process.argv.length === 2) {
    manager.start();
}
else {
    var account = manager.getAccount(argv.a || argv.account) || manager.defaultAccount;
    if (argv._[0]) {
        account[argv._[0]].call(account, argv._.splice(1), argv);
    }
    else {
        account.submit();
    }
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEseUNBQXdDO0FBQ3hDLGlDQUFvQztBQUNwQyxvQ0FBdUM7QUFDdkMsSUFBTSxJQUFJLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFOUMsT0FBTyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUM7QUFFdkIsSUFBSSxPQUFPLEdBQUcsSUFBSSxpQkFBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFFL0MsRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3QixPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDbEIsQ0FBQztBQUFBLElBQUksQ0FBQyxDQUFDO0lBQ0wsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxPQUFPLENBQUMsY0FBYyxDQUFDO0lBQ25GLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2IsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFBQSxJQUFJLENBQUMsQ0FBQztRQUNMLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNuQixDQUFDO0FBQ0gsQ0FBQyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgQWNjb3VudCB9IGZyb20gJy4vc3JjL0FjY291bnQnO1xuaW1wb3J0IHsgTWFuYWdlciB9IGZyb20gJy4vc3JjL01hbmFnZXInO1xuaW1wb3J0IHdpbnN0b24gPSByZXF1aXJlKCd3aW5zdG9uJyk7XG5pbXBvcnQgcGFyc2VBcmdzID0gcmVxdWlyZSgnbWluaW1pc3QnKTtcbmNvbnN0IGFyZ3YgPSBwYXJzZUFyZ3MocHJvY2Vzcy5hcmd2LnNsaWNlKDIpKTtcblxud2luc3Rvbi5sZXZlbCA9ICdpbmZvJztcblxubGV0IG1hbmFnZXIgPSBuZXcgTWFuYWdlcignLi9hcHBsaWNhdGlvbi55bWwnKTtcblxuaWYocHJvY2Vzcy5hcmd2Lmxlbmd0aCA9PT0gMikge1xuICBtYW5hZ2VyLnN0YXJ0KCk7XG59ZWxzZSB7XG4gIGxldCBhY2NvdW50ID0gbWFuYWdlci5nZXRBY2NvdW50KGFyZ3YuYSB8fCBhcmd2LmFjY291bnQpIHx8IG1hbmFnZXIuZGVmYXVsdEFjY291bnQ7XG4gIGlmKGFyZ3YuX1swXSkge1xuICAgIGFjY291bnRbYXJndi5fWzBdXS5jYWxsKGFjY291bnQsIGFyZ3YuXy5zcGxpY2UoMSksIGFyZ3YpO1xuICB9ZWxzZSB7XG4gICAgYWNjb3VudC5zdWJtaXQoKTtcbiAgfVxufVxuIl19
